<%inherit file="base.html" />
<%def name="online_help_token()"><% return "content_libraries" %></%def>
<%!
import json

from contentstore.views.helpers import xblock_studio_url, xblock_type_display_name
from django.utils.translation import ugettext as _
%>
<%block name="title">${context_library.display_name_with_default} ${xblock_type_display_name(context_library)}</%block>
<%block name="bodyclass">is-signedin course container view-container view-library</%block>

<%namespace name='static' file='static_content.html'/>

<%block name="header_extras">
% for template_name in templates:
<script type="text/template" id="${template_name}-tpl">
    <%static:include path="js/${template_name}.underscore" />
</script>
% endfor
</%block>

<%block name="requirejs">
    require(["js/factories/library"], function(LibraryFactory) {
        LibraryFactory(
            ${component_templates | n}, ${json.dumps(xblock_info) | n},
            {
                isUnitPage: false,
                page_size: 10
            }
        );
    });
</%block>

<%block name="content">


<div class="wrapper-mast wrapper">
    <header class="mast has-actions has-navigation has-subtitle">
        <div class="page-header">
            <small class="subtitle">${_("Content Library")}</small>
            <div class="wrapper-xblock-field incontext-editor is-editable"
                 data-field="display_name" data-field-display-name="${_("Display Name")}">
                <h1 class="page-header-title xblock-field-value incontext-editor-value"><span class="title-value">${xblock.display_name_with_default | h}</span></h1>
        </div>
    </header>
</div>

<div class="wrapper-content wrapper">
    <div class="inner-wrapper">
        <section class="content-area">

            <article class="content-primary">
                <div class="container-message wrapper-message"></div>
                <section class="wrapper-xblock level-page is-hidden studio-xblock-wrapper" data-locator="${context_library.location | h}" data-course-key="${context_library.location.library_key | h}">
                </section>
                <div class="ui-loading">
                    <p><span class="spin"><i class="icon-refresh"></i></span> <span class="copy">${_("Loading")}</span></p>
                </div>
            </article>
            <aside class="content-supplementary" role="complimentary">
                <div class="library-location">
                    <h4 class="bar-mod-title">${_("Library ID")}</h4>
                    <div class="wrapper-library-id bar-mod-content">
                        <h5 class="title">${_("Library ID")}</h5>
                        <p class="library-id">
                            <span class="library-id-value">${context_library.location.library_key | h}</span>
                            <span class="tip"><span class="sr">${_("Tip:")}</span> ${_("Use this ID when you want to add content from this library to a course using a Library Content component. You enter this ID in the Libraries field.")}</span>
                        </p>
                    </div>
                </div>
                <div class="bit">
                    <h3 class="title-3">${_("Adding content components")}</h3>
                    <p>${_("You can add components to the library. Help text here.")}</p>
                </div>
                <div class="bit external-help">
                    <a href="${get_online_help_info('library')['doc_url']}" target="_blank" class="button external-help-button">${_("Learn more about content libraries")}</a>
                </div>
            </aside>
        </section>
    </div>
</div>
</%block>
